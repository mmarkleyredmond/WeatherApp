package com.mmarkley.weatherapp.datamodel;

import org.json.JSONObject;
import org.junit.Test;

import static junit.framework.TestCase.assertNotNull;

public class LocationWeatherTest {

    private static final String testData = "{\"consolidated_weather\":[{\"id\":5179068351774720,\"weather_state_name\":\"Heavy Cloud\",\"weather_state_abbr\":\"hc\",\"wind_direction_compass\":\"WSW\",\"created\":\"2019-09-25T03:12:16.718702Z\",\"applicable_date\":\"2019-09-24\",\"min_temp\":18.45,\"max_temp\":26.855,\"the_temp\":29.37,\"wind_speed\":2.98508551509584,\"wind_direction\":244.79982993115448,\"air_pressure\":1010.54,\"humidity\":63,\"visibility\":15.120446591903285,\"predictability\":71},{\"id\":5781222833782784,\"weather_state_name\":\"Showers\",\"weather_state_abbr\":\"s\",\"wind_direction_compass\":\"SW\",\"created\":\"2019-09-25T03:12:20.634176Z\",\"applicable_date\":\"2019-09-25\",\"min_temp\":13.335,\"max_temp\":19.195,\"the_temp\":15.11,\"wind_speed\":5.656385409334818,\"wind_direction\":234.10280292716186,\"air_pressure\":1015.065,\"humidity\":80,\"visibility\":8.018484550226676,\"predictability\":73},{\"id\":5070834588712960,\"weather_state_name\":\"Showers\",\"weather_state_abbr\":\"s\",\"wind_direction_compass\":\"SSW\",\"created\":\"2019-09-25T03:12:22.707295Z\",\"applicable_date\":\"2019-09-26\",\"min_temp\":12.415,\"max_temp\":17.525,\"the_temp\":15.055,\"wind_speed\":5.337181911121715,\"wind_direction\":209.29739380091004,\"air_pressure\":1015.7,\"humidity\":86,\"visibility\":10.805334347411119,\"predictability\":73},{\"id\":6389483685543936,\"weather_state_name\":\"Heavy Cloud\",\"weather_state_abbr\":\"hc\",\"wind_direction_compass\":\"SW\",\"created\":\"2019-09-25T03:12:25.325468Z\",\"applicable_date\":\"2019-09-27\",\"min_temp\":12.15,\"max_temp\":17.840000000000003,\"the_temp\":18.314999999999998,\"wind_speed\":7.6937612198096454,\"wind_direction\":233.4065401016303,\"air_pressure\":1011.75,\"humidity\":70,\"visibility\":15.70205002783743,\"predictability\":71},{\"id\":5854958362558464,\"weather_state_name\":\"Heavy Cloud\",\"weather_state_abbr\":\"hc\",\"wind_direction_compass\":\"WSW\",\"created\":\"2019-09-25T03:12:28.965064Z\",\"applicable_date\":\"2019-09-28\",\"min_temp\":11.2,\"max_temp\":18.67,\"the_temp\":17.905,\"wind_speed\":8.358924192237334,\"wind_direction\":250.03531156674126,\"air_pressure\":1012.4449999999999,\"humidity\":61,\"visibility\":15.642398393382646,\"predictability\":71},{\"id\":5999141958189056,\"weather_state_name\":\"Showers\",\"weather_state_abbr\":\"s\",\"wind_direction_compass\":\"S\",\"created\":\"2019-09-25T03:12:31.623329Z\",\"applicable_date\":\"2019-09-29\",\"min_temp\":10.945,\"max_temp\":17.735,\"the_temp\":15.56,\"wind_speed\":5.059867175693947,\"wind_direction\":187.5,\"air_pressure\":1015.49,\"humidity\":82,\"visibility\":9.999726596675416,\"predictability\":73}],\"time\":\"2019-09-24T20:29:41.131617-07:00\",\"sun_rise\":\"2019-09-24T06:59:04.176987-07:00\",\"sun_set\":\"2019-09-24T19:05:13.097054-07:00\",\"timezone_name\":\"LMT\",\"parent\":{\"title\":\"California\",\"location_type\":\"Region / State / Province\",\"woeid\":2347563,\"latt_long\":\"37.271881,-119.270233\"},\"sources\":[{\"title\":\"BBC\",\"slug\":\"bbc\",\"url\":\"http://www.bbc.co.uk/weather/\",\"crawl_rate\":360},{\"title\":\"Forecast.io\",\"slug\":\"forecast-io\",\"url\":\"http://forecast.io/\",\"crawl_rate\":480},{\"title\":\"HAMweather\",\"slug\":\"hamweather\",\"url\":\"http://www.hamweather.com/\",\"crawl_rate\":360},{\"title\":\"Met Office\",\"slug\":\"met-office\",\"url\":\"http://www.metoffice.gov.uk/\",\"crawl_rate\":180},{\"title\":\"OpenWeatherMap\",\"slug\":\"openweathermap\",\"url\":\"http://openweathermap.org/\",\"crawl_rate\":360},{\"title\":\"Weather Underground\",\"slug\":\"wunderground\",\"url\":\"https://www.wunderground.com/?apiref=fc30dc3cd224e19b\",\"crawl_rate\":720},{\"title\":\"World Weather Online\",\"slug\":\"world-weather-online\",\"url\":\"http://www.worldweatheronline.com/\",\"crawl_rate\":360}],\"title\":\"San Francisco\",\"location_type\":\"City\",\"woeid\":2487956,\"latt_long\":\"37.777119, -122.41964\",\"timezone\":\"US/Pacific\"}";

    @Test
    public void fromJsonObject() throws Exception {
        JSONObject testObject = new JSONObject(testData);
        LocationWeather weather = LocationWeather.fromJsonObject(testObject);

        assertNotNull(weather);
    }
}